/* Dashboard Layout Grid */
:root {
    --sidebar-width: 260px;
    --sidebar-width-collapsed: 70px;
    --top-navbar-height: 70px;

    /* Colors - Dark Mode Default */
    --color-primary: #d4a373;
    --color-primary-dark: #b88c5f;
    --color-bg-body: #121212;
    /* Was light-bg, now dark */
    --color-bg-card: #1e1e1e;
    /* New: for cards/navbar */
    --color-bg-sidebar: #161616;
    /* Slightly darker than card */

    --color-text-main: #e0e0e0;
    /* Was #333, now light */
    --color-text-muted: #a0a0a0;
    --color-text-on-primary: #fff;

    /* Shadows */
    --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 8px 15px rgba(0, 0, 0, 0.4);
}

/* Light Mode Overrides */
body.light-mode {
    --color-bg-body: #f5f7fa;
    --color-bg-card: #ffffff;
    --color-bg-sidebar: #1a1a1a;
    /* Sidebar usually stays dark or can be light. Let's keep sidebar dark for contrast or make it light? User asked for dark mode, implying default was light. Actually user said "dark mode here too". 
    If I switch to light mode, maybe sidebar should stay dark? Or user wants full light mode? 
    Let's make sidebar dark in both for "Premium" feel, or follow standard conventions. 
    Standard: Sidebar often stays dark. But let's invert everything for true light mode if desired.
    Let's keep Sidebar Dark for now as it looks good. */
    --color-bg-sidebar: #2c2c2c;

    --color-text-main: #333333;
    --color-text-muted: #666666;

    --shadow-sm: 0 2px 5px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* Specific override if we want sidebar to be light in light mode:
body.light-mode .sidebar-area {
    background-color: #fff;
    color: #333;
    border-right: 1px solid #eee;
}
body.light-mode .menu-item { color: #666; }
body.light-mode .menu-item:hover { color: #000; background: #f9f9f9; }
*/

@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');

body {
    background-color: var(--color-bg-body);
    font-family: 'Outfit', sans-serif;
    margin: 0;
    padding: 0;
    color: var(--color-text-main);
}

/* Custom Scrollbar - Premium Dark Theme */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    /* Subtle dark track */
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    transition: background-color 0.3s;
}

::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-primary);
    /* Use primary color on hover */
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.2) rgba(255, 255, 255, 0.05);
}

/* Main Layout Container */
.dashboard-layout {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    grid-template-rows: var(--top-navbar-height) 1fr;
    min-height: 100vh;
    /* transition: all 0.3s ease; Removed to prevent page load animation */
}

/* Collapsed State Class (to be toggled by JS) */
.dashboard-layout.collapsed {
    grid-template-columns: var(--sidebar-width-collapsed) 1fr;
}

/* Sidebar Area */
.sidebar-area {
    grid-row: 1 / -1;
    grid-column: 1 / 2;
    background-color: var(--color-bg-sidebar);
    color: var(--color-text-main);
    z-index: 100;
    box-shadow: 4px 0 15px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border-right: 1px solid rgba(255, 255, 255, 0.05);
}

/* Top Navbar Area */
.top-navbar-area {
    grid-row: 1 / 2;
    grid-column: 2 / -1;
    background-color: var(--color-bg-card);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 30px;
    z-index: 90;
    box-shadow: var(--shadow-sm);
}

/* Main Content Area */
.main-content-area {
    grid-row: 2 / -1;
    grid-column: 2 / -1;
    padding: 30px;
    overflow-y: auto;
}

/* --- Sidebar Components --- */
.brand-box {
    height: var(--top-navbar-height);
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.brand-box .logo-text {
    font-size: 1.2rem;
    font-weight: 700;
    letter-spacing: 1px;
    color: var(--color-primary);
    margin-left: 10px;
    white-space: nowrap;
}

.brand-box img {
    height: 32px;
}

.sidebar-menu {
    flex: 1;
    padding: 20px 0;
    overflow-y: auto;
}

.menu-category {
    font-size: 0.75rem;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.4);
    padding: 10px 25px;
    letter-spacing: 1.5px;
    margin-top: 10px;
}

.menu-item {
    display: flex;
    align-items: center;
    padding: 12px 25px;
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: all 0.2s ease;
    border-left: 3px solid transparent;
}

.menu-item:hover,
.menu-item.active {
    color: #fff;
    background-color: rgba(255, 255, 255, 0.03);
}

.menu-item.active {
    border-left-color: var(--color-primary);
    background: linear-gradient(90deg, rgba(212, 163, 115, 0.1) 0%, transparent 100%);
}

.menu-item i {
    width: 24px;
    font-size: 1.1rem;
    margin-right: 10px;
}

/* --- Top Navbar Components --- */
.nav-toggle-btn {
    background: none;
    border: none;
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--color-text-main);
    padding: 5px;
}

.breadcrumb {
    font-size: 0.9rem;
    color: #888;
    margin-left: 20px;
}

.user-profile-menu {
    display: flex;
    align-items: center;
    gap: 15px;
}

.user-info {
    text-align: right;
}

.user-name {
    display: block;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--color-text-main);
}

.user-role {
    display: block;
    font-size: 0.75rem;
    color: #888;
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #ddd;
    object-fit: cover;
    border: 2px solid var(--color-primary);
}

/* Responsive Overrides */
@media (max-width: 768px) {
    .dashboard-layout {
        grid-template-columns: 0 1fr;
    }

    .dashboard-layout.mobile-active {
        grid-template-columns: 0 1fr;
        /* Actually handling this via transform usually better for mobile, but simple grid for now */
    }

    .sidebar-area {
        position: fixed;
        left: -var(--sidebar-width);
        top: 0;
        bottom: 0;
        width: var(--sidebar-width);
        transition: left 0.3s ease;
    }


    .mobile-active .sidebar-area {
        left: 0;
    }
}

/* Collapsed Sidebar Styles */
.dashboard-layout.collapsed .logo-text,
.dashboard-layout.collapsed .menu-category,
.dashboard-layout.collapsed .menu-item span,
.dashboard-layout.collapsed .sidebar-menu::after {
    /* hiding any potential extra elements */
    display: none !important;
    opacity: 0 !important;
    pointer-events: none;
}

.dashboard-layout.collapsed .brand-box {
    justify-content: center;
    padding: 0;
}

.dashboard-layout.collapsed .brand-box .logo-text {
    margin: 0;
}

.dashboard-layout.collapsed .menu-item {
    justify-content: center;
    padding: 15px 0;
}

.dashboard-layout.collapsed .menu-item i {
    margin-right: 0;
    font-size: 1.4rem;
}

/* Tooltips handled by JS */

/* Dark Mode Toggle (Switch Style from Main Site) */
.dark-mode-toggle {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    margin-right: 20px;
}

.dark-mode-toggle input[type="checkbox"] {
    display: none !important;
    /* Force hide */
}

.dark-mode-toggle label {
    width: 60px;
    height: 30px;
    background-color: #444;
    border-radius: 30px;
    position: relative;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 8px;
    box-sizing: border-box;
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
    transition: background-color 0.3s ease;
}

/* Icons */
.dark-mode-toggle label .fa-moon {
    color: #f1c40f;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s;
}

.dark-mode-toggle label .fa-sun {
    color: #f39c12;
    font-size: 14px;
    opacity: 1;
    transition: opacity 0.3s;
}

/* The Switch Ball */
.dark-mode-toggle label::after {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    background-color: #fff;
    border-radius: 50%;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Active State (Dark Mode - checkbox CHECKED) */
#darkModeSwitch:checked+label {
    background-color: var(--color-primary);
}

#darkModeSwitch:checked+label::after {
    transform: translateX(30px);
}

#darkModeSwitch:checked+label .fa-moon {
    opacity: 1;
}

#darkModeSwitch:checked+label .fa-sun {
    opacity: 0;
}